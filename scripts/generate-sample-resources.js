/**
 * Generate Sample Resource Files
 * Creates placeholder PDF and DOCX files for the resource catalog
 */

const fs = require('fs');
const path = require('path');

// Simple PDF generator - creates basic PDF structure
function generatePDF(title, content, audience) {
  const audienceLabel = audience === 'k12' ? 'K-12 Education' : 'Higher Education';
  const orgType = audience === 'k12' ? 'District' : 'Institution';
  
  // Basic PDF header (simplified PDF structure)
  const pdfContent = `%PDF-1.4
1 0 obj
<<
/Type /Catalog
/Pages 2 0 R
>>
endobj

2 0 obj
<<
/Type /Pages
/Kids [3 0 R]
/Count 1
>>
endobj

3 0 obj
<<
/Type /Page
/Parent 2 0 R
/MediaBox [0 0 612 792]
/Contents 4 0 R
/Resources <<
  /Font <<
    /F1 5 0 R
  >>
>>
>>
endobj

4 0 obj
<<
/Length 500
>>
stream
BT
/F1 18 Tf
50 750 Td
(${title}) Tj
0 -30 Td
/F1 12 Tf
(${audienceLabel} Resource) Tj
0 -40 Td
/F1 10 Tf
(${content}) Tj
0 -20 Td
(This is a sample resource for ${orgType} leaders.) Tj
0 -20 Td
(Generated by AI Blueprint Platform) Tj
0 -30 Td
(For more information, visit your dashboard.) Tj
ET
endstream
endobj

5 0 obj
<<
/Type /Font
/Subtype /Type1
/BaseFont /Helvetica
>>
endobj

xref
0 6
0000000000 65535 f 
0000000009 00000 n 
0000000058 00000 n 
0000000115 00000 n 
0000000275 00000 n 
0000000826 00000 n 
trailer
<<
/Size 6
/Root 1 0 R
>>
startxref
906
%%EOF`;

  return pdfContent;
}

// Sample resources to generate
const sampleResources = [
  // K-12 Resources
  {
    filename: 'district_ai_policy_template.pdf',
    path: 'public/resources/policies/district_ai_policy_template.pdf',
    title: 'District AI Policy Template',
    content: 'Comprehensive AI policy template covering student use, staff guidelines, data privacy, and implementation strategies for K-12 districts.',
    audience: 'k12'
  },
  {
    filename: 'classroom_integration_guide.pdf', 
    path: 'public/resources/curriculum/classroom_integration_guide.pdf',
    title: 'Classroom AI Integration Guide',
    content: 'Step-by-step guide for teachers on integrating AI tools into curriculum while maintaining pedagogical best practices.',
    audience: 'k12'
  },
  {
    filename: 'parent_communication_ai.pdf',
    path: 'public/resources/templates/parent_communication_ai.pdf',
    title: 'Parent Communication Templates',
    content: 'Email templates and communication strategies for informing parents about district AI initiatives and policies.',
    audience: 'k12'
  },
  {
    filename: 'ai_digital_citizenship.pdf',
    path: 'public/resources/curriculum/ai_digital_citizenship.pdf', 
    title: 'AI Digital Citizenship Curriculum',
    content: 'Curriculum modules teaching students responsible AI use, ethics, and digital citizenship in the age of AI.',
    audience: 'k12'
  },
  {
    filename: 'superintendent_planning_checklist.pdf',
    path: 'public/resources/checklists/superintendent_planning_checklist.pdf',
    title: 'Superintendent AI Planning Checklist',
    content: 'Comprehensive checklist for superintendents planning district-wide AI implementation including timeline and stakeholders.',
    audience: 'k12'
  },

  // Higher Ed Resources  
  {
    filename: 'ai_ethics_policy_he.pdf',
    path: 'public/resources/policies/ai_ethics_policy_he.pdf',
    title: 'Higher Ed AI Ethics Policy',
    content: 'Institutional AI ethics policy template covering academic integrity, research guidelines, and faculty use of AI tools.',
    audience: 'highered'
  },
  {
    filename: 'faculty_ai_curriculum.pdf',
    path: 'public/resources/curriculum/faculty_ai_curriculum.pdf',
    title: 'Faculty AI Integration Curriculum', 
    content: 'Professional development curriculum for faculty on incorporating AI tools into teaching and research activities.',
    audience: 'highered'
  },
  {
    filename: 'accred_planning.pdf',
    path: 'public/resources/checklists/accred_planning.pdf',
    title: 'Accreditation Planning Checklist',
    content: 'Checklist for addressing AI initiatives in accreditation self-studies and preparing for accreditor questions.',
    audience: 'highered'
  },
  {
    filename: 'research_ai_guidelines.pdf',
    path: 'public/resources/policies/research_ai_guidelines.pdf',
    title: 'Research AI Guidelines',
    content: 'Guidelines for ethical use of AI in research activities, data analysis, and academic publication standards.',
    audience: 'highered'
  },
  {
    filename: 'provost_strategy_template.pdf',
    path: 'public/resources/templates/provost_strategy_template.pdf',
    title: 'Provost AI Strategy Template',
    content: 'Strategic planning template for provosts developing institution-wide AI integration strategies and policies.',
    audience: 'highered'
  },

  // Shared Resources
  {
    filename: 'ai_vendor_evaluation.pdf',
    path: 'public/resources/templates/ai_vendor_evaluation.pdf', 
    title: 'AI Vendor Evaluation Framework',
    content: 'Comprehensive framework for evaluating AI vendors including security, privacy, pedagogy, and cost considerations.',
    audience: 'both'
  },
  {
    filename: 'ai_implementation_timeline.pdf',
    path: 'public/resources/templates/ai_implementation_timeline.pdf',
    title: 'AI Implementation Timeline Template',
    content: 'Project timeline template for phased AI implementation including stakeholder engagement and training milestones.',
    audience: 'both'  
  }
];

// Generate all sample resources
console.log('Generating sample resource files...');

sampleResources.forEach(resource => {
  const fullPath = path.join(__dirname, '..', resource.path);
  const dir = path.dirname(fullPath);
  
  // Create directory if it doesn't exist
  if (!fs.existsSync(dir)) {
    fs.mkdirSync(dir, { recursive: true });
  }
  
  // Generate PDF content
  const pdfContent = generatePDF(resource.title, resource.content, resource.audience);
  
  // Write file
  fs.writeFileSync(fullPath, pdfContent, 'latin1');
  console.log(`âœ… Generated: ${resource.filename} (${resource.audience})`);
});

console.log(`\nðŸŽ‰ Generated ${sampleResources.length} sample resource files!`);
console.log('Resources are now available for download in the platform.');